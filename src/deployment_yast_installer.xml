<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook"
         xmlns:its="http://www.w3.org/2005/11/its"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         version="5.2"
         xml:id="cha-install">
   <title>Installation steps</title>
   <info>
      <abstract>
         <para>This chapter describes the procedure in which the data for <phrase role="productname">SUSE Linux Enterprise Server</phrase> is copied to the target device. Some basic configuration parameters for the newly installed system are set during the procedure. A graphical user interface will guide you through the installation. The procedure described in the following also applies to remote installation procedures as described in <xref linkend="cha-remote-installation"/>. The text mode installation has the same steps and only looks different. For information about performing non-interactive automated installations, see <xref linkend="book-autoyast"/>.</para>
      </abstract>
   </info>
   <para>Before running the installer, read <xref linkend="part-prep"/>. Depending on the architecture of your system, it describes the steps necessary to start the installation.</para>
   <para>If you are a first-time user of <phrase role="productname">SUSE Linux Enterprise Server</phrase>, you should follow the default YaST proposals in most parts, but you can also adjust the settings as described here to fine-tune your system according to your preferences. Help for each installation step is provided by clicking <guimenu>Help</guimenu>.</para>
   <tip>
      <title>Installation without a mouse</title>
      <para>If the installer does not detect your mouse correctly, use <keycap function="tab"/> for navigation, arrow keys to scroll, and <keycap function="enter"/> to confirm a selection. Various buttons or selection fields contain a letter with an underscore. Use <keycombo>
            <keycap function="alt"/>
            <keycap>Letter</keycap>
         </keycombo> to select a button or a selection directly instead of navigating there with <keycap function="tab"/>.</para>
   </tip>
   <sect1 xml:id="sec-yast-install-overview">
      <title>Overview</title>
      <para>This section provides an overview of all installation steps. Each step contains a link to a more detailed description.</para>
      <procedure>
         <step>
            <para>Before the installation starts, the installer may update itself. For details, see <xref linkend="sec-yast-install-self-update"/>.</para>
         </step>
         <step>
            <para>The actual installation starts with choosing the language and the product. For details, see <xref linkend="sec-yast-install-welcome"/>.</para>
         </step>
         <step>
            <para>Accept the license agreement. For details, see <xref linkend="sec-yast-install-license-agreement"/>.</para>
         </step>
         <step>
            <para>IBM Z machines need to activate disks. For details, see <xref linkend="sec-yast-install-s390-part"/>.</para>
         </step>
         <step>
            <para>Configure the network. This is only required when you need network access during the installation, and automatic network configuration via DHCP fails. If the automatic network configuration succeeds, this step is skipped. For details, see <xref linkend="sec-yast-install-network"/>.</para>
         </step>
         <step>
            <para>With a working network connection you can register the machine at the SUSE Customer Center or an RMT server. For details, see <xref linkend="sec-yast-install-scc-registration"/>.</para>
         </step>
         <step>
            <para>Select the modules you want to enable for the machine. This impacts the availability of system roles in the next step and packages later on. For details, see <xref linkend="sec-yast-install-modules"/>.</para>
         </step>
         <step>
            <para>You can manually add repositories. For details, see <xref linkend="sec-yast-install-addons"/>.</para>
         </step>
         <step>
            <para>Select a role for your system. This defines the default list of packages to install and makes a suggestion for partitioning the hard disks. For details, see <xref linkend="sec-yast-install-system-role"/>.</para>
         </step>
         <step>
            <para>Partition the hard disks of your system. For details, see <xref linkend="sec-yast-install-partitioning"/>.</para>
         </step>
         <step>
            <para>Choose a time zone. For details, see <xref linkend="sec-yast-install-date-time"/>.</para>
         </step>
         <step>
            <para>Create a user. For details, see <xref linkend="sec-yast-install-user"/>.</para>
         </step>
         <step performance="optional">
            <para>Optionally, set a different password for the system administrator <systemitem class="username">root</systemitem>. For details, see <xref linkend="sec-yast-install-user-root"/>.</para>
         </step>
         <step>
            <para>In a final step, the installer presents an overview of all settings. If required, you can change them. For details, see <xref linkend="sec-yast-install-proposal"/>.</para>
         </step>
         <step>
            <para>The installer copies all required data and informs you about the progress. For details, see <xref linkend="sec-yast-install-perform"/>.</para>
         </step>
      </procedure>
   </sect1>
   <sect1 xml:id="sec-yast-install-self-update">
      <title>Installer self-update</title>
      <para>During the installation and upgrade process, YaST may update itself to solve bugs in the installer that were discovered after the release. This functionality is enabled by default; to disable it, set the boot parameter <option>self_update</option> to <literal>0</literal>. For more information, see <xref linkend="sec-boot-parameters-advanced-self-update"/>.</para>
      <!--taroth 2019-09-12: same note used in ay_bigfile.xml-->
      <important>
         <title>Quarterly media update: self-update disabled</title>
         <para>The installer self-update is only available if you use the <literal>GM</literal> images of the Unified Installer and Packages ISOs. If you install from the ISOs published as quarterly update (they can be identified by the string <literal>QU</literal> in the name), the installer cannot update itself, because this feature is disabled in the update media.</para>
      </important>
      <important>
         <title>Networking during self-update</title>
         <para>To download installer updates, YaST needs network access. By default, it tries to use DHCP on all network interfaces. If there is a DHCP server in the network, it will work automatically.</para>
         <para>If you need a static IP setup, you can use the <literal>ifcfg</literal> boot argument. For more details, see the linuxrc documentation at <link xlink:href="https://en.opensuse.org/Linuxrc"/>.</para>
      </important>
      <important>
         <title>Firewall settings for self-update</title>
         <para>If your system is behind a firewall that blocks outgoing traffic, make sure to allow connections to <uri>https://installer-updates.suse.com</uri> on ports 80 and 443 in order to receive installer updates. For more information, such as IP addresses and proxy server configuration, refer to <link xlink:href="https://www.suse.com/support/kb/doc/?id=000021034"/>.</para>
      </important>
      <tip>
         <title>Language selection</title>
         <para>The installer self-update runs before the language selection step. This means that progress and errors which happen during this process are displayed in English by default.</para>
         <para>To use another language for this part of the installer, use the <literal>language</literal> boot parameter if available for your architecture, for example, <literal>language=de_DE</literal>. On machines equipped with a traditional BIOS, alternatively, press <keycap>F2</keycap> in the boot menu and select the language from the list.</para>
      </tip>
      <para>Although this feature was designed to run without user intervention, it is worth knowing how it works. If you are not interested, you can jump directly to <xref linkend="sec-yast-install-welcome"/> and skip the rest of this section.</para>
      <sect2 xml:id="sec-yast-install-self-update-process">
         <title>Self-update process</title>
         <para>The process can be broken down into two different parts:</para>
         <orderedlist spacing="normal">
            <listitem>
               <para>Determine the update repository location.</para>
            </listitem>
            <listitem>
               <para>Download and apply the updates to the installation system.</para>
            </listitem>
         </orderedlist>
         <sect3 xml:id="sec-yast-install-self-update-determine-repo">
            <title>Determining the update repository location</title>
            <para>Installer Self-Updates are distributed as regular RPM packages via a dedicated repository, so the first step is to find the repository URL.</para>
            <important>
               <title>Installer self-update repository only</title>
               <para>No matter which of the following options you use, only the installer self-update repository URL is expected, for example:</para>
               <screen>self_update=https://www.example.com/my_installer_updates/</screen>
               <para>Do not supply any other repository URL—for example the URL of the software update repository.</para>
            </important>
            <para>YaST will try the following sources of information:</para>
            <orderedlist spacing="normal">
               <listitem>
                  <para>The <literal>self_update</literal> boot parameter. (For more details, see <xref linkend="sec-boot-parameters-advanced-self-update"/>.) If you specify a URL, it will take precedence over any other method.</para>
               </listitem>
               <listitem>
                  <para>The <literal>/general/self_update_url</literal> profile element in case you are using AutoYaST.</para>
               </listitem>
               <listitem>
                  <para>A registration server. YaST will query the registration server for the URL. The server to be used is determined in the following order:</para>
                  <orderedlist spacing="normal">
                     <listitem>
                        <para>By evaluating the <literal>regurl</literal> boot parameter (<xref linkend="sec-boot-parameters-advanced-smt"/>).</para>
                     </listitem>
                     <listitem>
                        <para>By evaluating the <literal>/suse_register/reg_server</literal> profile element if you are using AutoYaST.</para>
                     </listitem>
                     <listitem>
                        <para>By performing an SLP lookup. If an SLP server is found, YaST will ask you whether it should be used because there is no authentication involved and anybody on the local network can broadcast a registration server.</para>
                     </listitem>
                     <listitem>
                        <para>By querying the SUSE Customer Center.</para>
                     </listitem>
                  </orderedlist>
               </listitem>
               <listitem>
                  <para>If none of the previous attempts work, the fallback URL (defined in the installation media) will be used.</para>
               </listitem>
            </orderedlist>
         </sect3>
         <sect3 xml:id="sec-yast-install-self-update-apply-updates">
            <title>Downloading and applying the updates</title>
            <para>When the update repository is determined, YaST checks whether an update is available. If it is, all the updates are downloaded and applied.</para>
            <para>Finally, YaST restarts and displays the welcome screen. If no updates are available, the installation continues without restarting YaST.</para>
            <note>
               <title>Update integrity</title>
               <para>Update signatures will be checked to ensure integrity and authorship. If a signature is missing or invalid, you will be asked whether you want to apply the update.</para>
            </note>
         </sect3>
         <sect3 xml:id="sec-yast-install-self-update-temporary-addon-repo">
            <title>Temporary self-update add-on repository</title>
            <para>Some packages distributed in the self-update repository provide additional data for the installer, like installation defaults, system role definitions and similar. If the installer finds such packages in the self-update repository, a local temporary repository is created, to which those packages are copied. They are used during the installation. The temporary local repository is removed at the end of the installation. Its packages are <emphasis>not</emphasis> installed on the target system.</para>
            <para>This additional repository is not displayed in the list of add-on products, but during installation it may still be visible as <literal>SelfUpdate0</literal> repository in the package management.</para>
         </sect3>
      </sect2>
      <sect2 xml:id="sec-yast-install-self-update-custom">
         <title>Custom self-update repositories</title>
         <para>YaST can use a user-defined repository instead of the official repository by specifying a URL through the <literal>self_update</literal> boot parameter.</para>
         <itemizedlist mark="bullet" spacing="normal">
            <listitem>
               <para>HTTP/HTTPS and FTP repositories are supported.</para>
            </listitem>
            <listitem>
               <para>Starting with <package>yast2-installation-4.4.30</package>, the <literal>relurl://</literal> schema is supported, as a boot parameter or in an AutoYaST profile. The URL is relative to the main installation repository, and you may navigate the file tree with the usual <literal>../</literal> notation, for example <replaceable>relurl://../self_update</replaceable>. This is useful when serving the packages via a local installation server, or when building a custom installation medium which includes a self-update repository.</para>
               <para>The following examples assume the installation repository is at the medium root (/), and the self-update repository in the <filename>self_update</filename> subdirectory. This structure makes the <literal>relurl://</literal> portable, and it will work anywhere without changes as a boot parameter, copied to a USB stick, hard disk, network server, or in an AutoYaST profile.</para>
               <variablelist>
                  <varlistentry>
                     <term>Custom DVD/USB medium</term>
                     <listitem>
                        <para>Add the <literal>self_update=relurl://self_update</literal> boot option directly to the default boot parameters, and it will work properly even if the medium is copied to an USB stick, hard disk, or a network server.</para>
                     </listitem>
                  </varlistentry>
                  <varlistentry>
                     <term>Installation server</term>
                     <listitem>
                        <para>Assume that the installation packages are available via <replaceable>http://example.com/repo</replaceable> and a self-update repository is available at <replaceable>http://example.com/self_update</replaceable>.</para>
                        <para>Then you can use the <replaceable>http://example.com/repo</replaceable> and <replaceable>http://example.com/self_update</replaceable> boot parameters, without having to change the <literal>self_update</literal> parameter when the repositories are moved to a different location.</para>
                     </listitem>
                  </varlistentry>
               </variablelist>
            </listitem>
            <listitem>
               <para>Only RPM-MD repositories are supported (required by RMT).</para>
            </listitem>
            <listitem>
               <para>Packages are not installed in the usual way: They are uncompressed only and no scripts are executed.</para>
            </listitem>
            <listitem>
               <para>No dependency checks are performed. Packages are installed in alphabetical order.</para>
            </listitem>
            <listitem>
               <para>Files from the packages override the files from the original installation media. This means that the update packages might not need to contain all files, only files that have changed. Unchanged files are omitted to save memory and download bandwidth.</para>
            </listitem>
         </itemizedlist>
         <note>
            <title>Only one repository</title>
            <para>Currently, it is not possible to use more than one repository as source for installer self-updates.</para>
         </note>
      </sect2>
   </sect1>
   <sect1 xml:id="sec-yast-install-welcome">
      <title>Language, keyboard and product selection</title>
      <figure>
         <title>Language, keyboard and product selection</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_product.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_product.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>The <guimenu>Language</guimenu> and <guimenu>Keyboard Layout</guimenu> settings are initialized with the language you chose on the boot screen. If you did not change the default, it will be English (US). Change the settings here, if necessary.</para>
      <para>Changing the language automatically selects a corresponding keyboard layout. You can override this proposal by selecting a different keyboard layout from the drop-down box. Use the <guimenu>Keyboard Test</guimenu> text box to test the layout. The selected language also determines a time zone for the system clock. This setting can be modified later as described in <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
         <xref linkend="cha-yast-lang" xrefstyle="%label &#34;%c&#34;"/>.</para>
      <para>With the Unified Installer, you can install all SUSE Linux Enterprise base products:</para>
      <itemizedlist>
         <listitem>
            <para>SUSE Linux Enterprise Server <phrase role="productnumber">15 SP7</phrase> (covered here)</para>
         </listitem>
         <listitem>
            <para>SUSE Linux Enterprise Desktop <phrase role="productnumber">15 SP7</phrase> (for installation instructions, refer to <link xlink:href="https://documentation.suse.com/sled/"/>)</para>
         </listitem>
         <listitem>
            <para>SUSE Linux Enterprise Real Time <phrase role="productnumber">15 SP7</phrase> (for installation instructions, refer to <link xlink:href="https://documentation.suse.com/sle-rt/"/>)</para>
         </listitem>
         <listitem>
            <para>SUSE Linux Enterprise Server for SAP applications <phrase role="productnumber">15 SP7</phrase> (for installation instructions, refer to <link xlink:href="https://documentation.suse.com/sles-sap"/>)</para>
         </listitem>
      </itemizedlist>
      <para>Select a product for installation. You need to have a registration code for the respective product. In this document it is assumed you have chosen SUSE Linux Enterprise Server. Proceed with <guimenu>Next</guimenu>.</para>
      <tip>
         <title>Light and high-contrast themes</title>
         <para>If you have difficulties reading the labels in the installer, you can change the widget colors and theme.</para>
         <para>Click the <inlinemediaobject>
               <imageobject outputformat="print">
                  <imagedata fileref="media/yast-day-night-mode.svg" width="5mm"/>
               </imageobject>
               <imageobject outputformat="screen">
                  <imagedata fileref="media/yast-day-night-mode.svg" width="5mm"/>
               </imageobject>
            </inlinemediaobject> button or press <keycombo>
               <keycap function="shift"/>
               <keycap>F3</keycap>
            </keycombo> to open a theme selection dialog. Select a theme from the list and <guimenu>Close</guimenu> the dialog.</para>
         <para>
            <keycombo>
               <keycap function="shift"/>
               <keycap>F4</keycap>
            </keycombo> switches to the color scheme for vision-impaired users. Press the buttons again to switch back to the default scheme.</para>
      </tip>
   </sect1>
   <sect1 xml:id="sec-yast-install-license-agreement">
      <title>License agreement</title>
      <figure><!-- FIXME cwickert 2025-01-31: Update screenshot for SLE 15 SP7 GA -->
         <title>License agreement</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_license_sles.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_license_sles.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>Read the License Agreement. It is presented in the language you have chosen on the boot screen. Translations are available via the <guimenu>License Language</guimenu> drop-down box. If you agree to the terms, check <guimenu>I Agree to the License Terms</guimenu> and click <guimenu>Next</guimenu> to proceed with the installation. If you do not agree to the license agreement, you cannot install <phrase role="productname">SUSE Linux Enterprise Server</phrase>; click <guimenu>Abort</guimenu> to terminate the installation.</para>
   </sect1>
   <sect1 xml:id="sec-yast-install-s390-part">
      <title>IBM Z: disk activation</title>
      <para>When installing on IBM Z platforms, the language selection dialog is followed by a dialog to configure the attached hard disks.</para>
      <figure>
         <title>Disk activation</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_zseries_disk_activation.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_zseries_disk_activation.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>Select DASD, Fibre Channel Attached SCSI Disks (zFCP), or iSCSI for installation of <phrase role="productname">SUSE Linux Enterprise Server</phrase>. The DASD and zFCP configuration buttons are only available if the corresponding devices are attached. For instructions on how to configure iSCSI disks, refer to <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Storage Administration Guide</quote>, </phrase>
         <xref linkend="sec-iscsi-initiator" xrefstyle="%label &#34;%c&#34;"/>.</para>
      <para>You can also change the <guimenu>Network Configuration</guimenu> in this screen by launching the <guimenu>Network Settings</guimenu> dialog. Choose a network interface from the list and click <guimenu>Edit</guimenu> to change its settings. Use the tabs to configure DNS and routing. See <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
         <xref linkend="sec-network-yast" xrefstyle="%label &#34;%c&#34;"/> for more details.</para>
      <sect2 xml:id="sec-yast-install-s390-part-dasd">
         <title>Configuring DASD disks</title>
         <para>Skip this step if you are not installing on IBM Z hardware.</para>
         <figure xml:id="fig-s390-yast2-i-y2-sel-dasd">
            <title>DASD disk management</title>
            <mediaobject>
               <imageobject outputformat="print">
                  <imagedata width="100%" fileref="media/install_zseries_dasd.png"/>
               </imageobject>
               <imageobject outputformat="screen">
                  <imagedata width="100%" fileref="media/install_zseries_dasd.png"/>
               </imageobject>
            </mediaobject>
         </figure>
         <para>After selecting <guimenu>Configure DASD Disks</guimenu>, an overview lists all available DASDs. To get a clearer picture of the available devices, use the text box located above the list to specify a range of channels to display. To filter the list according to such a range, select <guimenu>Filter</guimenu>.</para>
         <para>Specify the DASDs to use for the installation by selecting the corresponding entries in the list. Use <guimenu>Select All</guimenu> to select all DASDs currently displayed. Activate and make the selected DASDs available for the installation by selecting <menuchoice>
               <guimenu>Perform Action</guimenu>
               <guimenu>Activate</guimenu>
            </menuchoice>. To format the DASDs, select <menuchoice>
               <guimenu>Perform Action</guimenu>
               <guimenu>Format</guimenu>
            </menuchoice>. Alternatively, use the YaST partitioner later as described in <xref linkend="sec-expert-partitioner"/>.</para>
      </sect2>
      <sect2 xml:id="sec-yast-install-s390-part-zfcp">
         <title>Configuring zFCP disks</title>
         <para>Skip this step if you are not installing on IBM Z hardware.</para>
         <figure xml:id="fig-install-zseries-zfcp">
            <title>Configured zFCP Devices</title>
            <mediaobject>
               <imageobject outputformat="print">
                  <imagedata width="100%" fileref="media/install_zseries_zfcp.png"/>
               </imageobject>
               <imageobject outputformat="screen">
                  <imagedata width="100%" fileref="media/install_zseries_zfcp.png"/>
               </imageobject>
            </mediaobject>
         </figure>
         <para>After selecting <guimenu>Configure zFCP Disks</guimenu>, a dialog with a list of the zFCP disks available on the system opens. In this dialog, select <guimenu>Add</guimenu> to open another dialog in which to enter zFCP parameters.</para>
         <para>To make a zFCP disk available for the <phrase role="productname">SUSE Linux Enterprise Server</phrase> installation, choose an available <guimenu>Channel Number</guimenu> from the drop-down box. <guimenu>Get WWPNs</guimenu> (World Wide Port Number) and <guimenu>Get LUNs</guimenu> (Logical Unit Number) return lists with available WWPNs and FCP-LUNs, respectively, to choose from. Automatic LUN scanning only works with NPIV enabled.</para>
         <para>When completed, exit the zFCP dialog with <guimenu>Next</guimenu> and the general hard disk configuration dialog with <guimenu>Finish</guimenu> to continue with the rest of the configuration.</para>
      </sect2>
   </sect1>
   <sect1 xml:id="sec-yast-install-network">
      <title>Network settings</title>
      <para>After booting into the installation, the installation routine is set up. During this setup, an attempt to configure at least one network interface with DHCP is made. In case this attempt has failed, the <guimenu>Network Settings</guimenu> dialog launches now.</para>
      <figure>
         <title>Network settings</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_network.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_network.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>Choose a network interface from the list and click <guimenu>Edit</guimenu> to change its settings. Use the tabs to configure DNS and routing. See <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
         <xref linkend="sec-network-yast" xrefstyle="%label &#34;%c&#34;"/> for more details. On IBM Z this dialog does not start automatically. It can be started in the <guimenu>Disk Activation</guimenu> step.</para>
      <para>In case DHCP was successfully configured during installation setup, you can also access this dialog by clicking <guimenu>Network Configuration</guimenu> at the <guimenu>SUSE Customer Center Registration</guimenu> and the <guimenu>Installation Settings</guimenu> step. It lets you change the automatically provided settings.</para>
      <note>
         <title>Network configuration with boot parameters</title>
         <para>If at least one network interface has been configured via boot parameters (see <xref linkend="sec-boot-parameters-list-network"/>), automatic DHCP configuration is disabled and the boot parameter configuration is imported and used.</para>
      </note>
      <tip>
         <title>Accessing network storage or local RAID</title>
         <para>To access a SAN or a local RAID during the installation, you can use the libstorage command line client for this purpose:</para>
         <orderedlist>
            <listitem>
               <para>Switch to a console with <keycombo>
                     <keycap function="control"/>
                     <keycap function="alt"/>
                     <keycap>F2</keycap>
                  </keycombo>.</para>
            </listitem>
            <listitem>
               <para>Install the libstoragemgmt extension by running <command>extend libstoragemgmt</command>.</para>
            </listitem>
            <listitem>
               <para>Now you have access to the <command>lsmcli</command> command. For more information, run <command>lsmcli --help</command>.</para>
            </listitem>
            <listitem>
               <para>To return to the installer, press <keycombo>
                     <keycap function="alt"/>
                     <keycap>F7</keycap>
                  </keycombo>
               </para>
            </listitem>
         </orderedlist>
         <para>Supported are Netapp Ontap, all SMI-S compatible SAN providers, and LSI MegaRAID.</para>
      </tip>
   </sect1>
   <sect1 xml:id="sec-yast-install-scc-registration">
      <title>Registration</title>
      <para>To get technical support and product updates, you need to register and activate <phrase role="productname">SUSE Linux Enterprise Server</phrase> with the SUSE Customer Center or a local registration server. Registering your product at this stage also grants you immediate access to the update repository. This enables you to install the system with the latest updates and patches available.</para>
      <para>When registering, repositories and dependencies for modules and extensions are loaded from the registration server.</para>
      <para>From this dialog, you can switch to the YaST <guimenu>Network Settings</guimenu> module by clicking <guimenu>Network Configuration</guimenu>. For details, see <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
         <xref linkend="sec-network-yast" xrefstyle="%label &#34;%c&#34;"/>.</para>
      <para>If you are offline or want to skip registration, activate <guimenu>Skip Registration</guimenu>. See <xref linkend="sec-yast-install-scc-registration-none"/> for instructions.</para>
      <sect2 xml:id="sec-yast-install-scc-registration-manually">
         <title>Manual registration</title>
         <para>To register with the SUSE Customer Center, provide the <guimenu>E-mail Address</guimenu> associated with your SCC account and the <guimenu>Registration Code</guimenu> for <phrase role="productname">SUSE Linux Enterprise Server</phrase>.</para>
         <para>If your organization offers a local registration server, you may register there. Activate <guimenu>Register System via local SMT Server</guimenu> and either choose a URL from the drop-down box or type in an address. Proceed with <guimenu>Next</guimenu>.</para>
         <para>To register with the SUSE Customer Center, enter your <guimenu>Registration Code</guimenu> for <phrase role="productname">SUSE Linux Enterprise Server</phrase>. If your organization provides a local registration server, you may register there. Activate <guimenu>Register System via local RMT Server</guimenu> and either choose a URL from the drop-down box or type in an address.</para>
         <para>Start the registration process with <guimenu>Next</guimenu>.</para>
         <figure>
            <title>SUSE Customer Center registration</title>
            <mediaobject>
               <imageobject outputformat="print">
                  <imagedata fileref="media/install_registration_sles.png" width="100%"/>
               </imageobject>
               <imageobject outputformat="screen">
                  <imagedata fileref="media/install_registration_sles.png" width="100%"/>
               </imageobject>
            </mediaobject>
         </figure>
         <tip>
            <title>Installing product patches at installation time</title>
            <para>After <phrase role="productname">SUSE Linux Enterprise Server</phrase> has been successfully registered, you are asked whether to install the latest available online updates during the installation. If you choose <guimenu>Yes</guimenu>, the system will be installed with the most current packages without having to apply updates after installation. It is recommended to enable this option.</para>
         </tip>
         <note>
            <title>Firewall settings for receiving updates</title>
            <para>If your system is behind a firewall that blocks outgoing traffic, make sure to allow connections to <uri>https://scc.suse.com/</uri> and <uri>https://updates.suse.com</uri> on ports 80 and 443 in order to receive updates. For more information, such as IP addresses and proxy server configuration, refer to <link xlink:href="https://www.suse.com/support/kb/doc/?id=000021034"/>.</para>
         </note>
         <para>If the system is successfully registered during installation, YaST disables repositories from local installation media such as CD/DVD or flash disks when the installation completes. This prevents problems caused by the missing installation source and ensures that you always get the latest updates from the online repositories.</para>
      </sect2>
      <sect2 xml:id="sec-yast-install-scc-registration-usb">
         <title>Loading registration codes from USB storage</title>
         <para>To make the registration more convenient, you can also store your registration codes on a USB storage device such as a flash disk. YaST will automatically pre-fill the corresponding text box. This is particularly useful when testing the installation or if you need to register many systems or extensions.</para>
         <para>Create a file named <filename>regcodes.txt</filename> or <filename>regcodes.xml</filename> on the USB disk. If both are present, the XML takes precedence.</para>
         <para>In that file, identify the product with the name returned by <command>zypper search --type product</command> and assign it a registration code as follows:</para>
         <example xml:id="ex-i-yast2-conf-manual-cc-usb-txt">
            <title>
               <filename>regcodes.txt</filename>
            </title>
            <screen>SLES    cc36aae1
SLED    309105d4

sle-we  5eedd26a
sle-live-patching 8c541494</screen>
         </example>
         <example xml:id="ex-i-yast2-conf-manual-cc-usb-xml">
            <title>
               <filename>regcodes.xml</filename>
            </title>
            <screen language="xml">
&lt;?xml version="1.0"?&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns"
 xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;suse_register&gt;
    &lt;addons config:type="list"&gt;
      &lt;addon&gt;
&lt;name&gt;SLES&lt;/name&gt;
&lt;reg_code&gt;cc36aae1&lt;/reg_code&gt;
      &lt;/addon&gt;
      &lt;addon&gt;
&lt;name&gt;SLED&lt;/name&gt;
&lt;reg_code&gt;309105d4&lt;/reg_code&gt;
      &lt;/addon&gt;
      &lt;addon&gt;
&lt;name&gt;sle-we&lt;/name&gt;
&lt;reg_code&gt;5eedd26a&lt;/reg_code&gt;
      &lt;/addon&gt;
      &lt;addon&gt;
&lt;name&gt;sle-live-patching&lt;/name&gt;
&lt;reg_code&gt;8c541494&lt;/reg_code&gt;
      &lt;/addon&gt;
    &lt;/addons&gt;
  &lt;/suse_register&gt;
&lt;/profile&gt;</screen>
         </example>
         <para>Note that <literal>SLES</literal> and <literal>SLED</literal> are not extensions, but listing them as add-ons allows for combining several base product registration codes in a single file. See <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>AutoYaST Guide</quote>, </phrase>
            <xref linkend="CreateProfile-Register-Extension" xrefstyle="%label &#34;%c&#34;"/> for details.</para>
         <note>
            <title>Limitations</title>
            <para>Currently flash disks are only scanned during installation or upgrade, but not when registering a running system.</para>
         </note>
      </sect2>
      <sect2 xml:id="sec-yast-install-scc-registration-none">
         <title>Installing without registration</title>
         <para>If you are offline or want to skip registration, activate <guimenu>Skip Registration</guimenu>. Accept the warning with <guimenu>OK</guimenu> and proceed with <guimenu>Next</guimenu>.</para>
         <important>
            <title>Skipping the registration</title>
            <para>Skipping the registration is only possible when installing from the <filename>SLE-15-SP7-Full-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> image.</para>
         </important>
         <note>
            <title>Registering <phrase role="productname">SUSE Linux Enterprise Server</phrase>
            </title>
            <para>Your system and extensions need to be registered to retrieve updates and to be eligible for support. If you do not register during the installation, you can do so at any time later from the running system. To do so, run <menuchoice>
                  <guimenu>YaST</guimenu>
                  <guimenu>Product Registration</guimenu>
               </menuchoice>.</para>
         </note>
         <!-- cwickert 2020-03-18: Old content from the 'offline' section -->
         <!--
   <para>
    If you perform an installation without connecting to a registration server,
    you cannot register your system during the installation. Therefore you
    cannot receive the repository configuration for modules and
    extensions from the registration server. To enable a regular installation,
    &suse; offers a second installation medium, the &packagemedia; image.
   </para>

   <para>
    To perform the installation without registration, make sure the contents
    of the &packagemedia; image can be accessed during the installation. This
    can be achieved by copying it to a local hard disk or a removable flash
    disk or by making it available in the local
    network. Choose a method that is supported by your hardware.
   </para>
   -->
         <tip>
            <title>Copying the installation media image to a removable flash disk</title>
            <remark>Not a suitable location for this tip.</remark>
            <para>Use the following command to copy the contents of the installation image to a removable flash disk.</para>
            <screen><prompt>&gt;</prompt><command>sudo</command> dd if=<replaceable>IMAGE</replaceable> of=<replaceable>FLASH_DISK</replaceable> bs=4M &amp;&amp; sync</screen>
            <para>
               <replaceable>IMAGE</replaceable> needs to be replaced with the path to the <filename>SLE-15-SP7-Online-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> or <filename>SLE-15-SP7-Full-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> image file. <replaceable>FLASH_DISK</replaceable> needs to be replaced with the flash device. To identify the device, insert it and run:</para>
            <screen><prompt role="root">#</prompt>grep -Ff &lt;(hwinfo --disk --short) &lt;(hwinfo --usb --short)
     disk:
     /dev/sdc             General USB Flash Disk</screen>
            <para>Make sure the size of the device is sufficient for the desired image. You can check the size of the device with:</para>
            <screen><prompt role="root">#</prompt>fdisk -l /dev/sdc | grep -e "^/dev"
     /dev/sdc1  *     2048 31490047 31488000  15G 83 Linux</screen>
            <para>In this example, the device has a capacity of 15 GB. The command to use for the <filename>SLE-15-SP7-Full-<replaceable>ARCH</replaceable>-GM-media1.iso</filename> would be:</para>
            <screen>dd if=SLE-15-SP7-Full-<replaceable>ARCH</replaceable>-GM-media1.iso of=/dev/sdc bs=4M &amp;&amp; sync</screen>
            <para>The device must not be mounted when running the <command>dd</command> command. Note that all data on the partition will be erased!</para>
         </tip>
      </sect2>
   </sect1>
   <sect1 xml:id="sec-yast-install-modules">
      <title>Extension and module selection</title>
      <para>In this dialog the installer lists modules and extensions that are available for <phrase role="productname">SUSE Linux Enterprise Server</phrase>. Modules are components that allow you to customize the product according to your needs. They are included in your <phrase role="productname">SUSE Linux Enterprise Server</phrase> subscription. Extensions add functionality to your product. They must be purchased separately.</para>
      <para>The availability of certain modules or extensions depends on the product you chose in the first step of this installation. For a description of the modules and their lifecycles, select a module to see the accompanying text. More detailed information is available in the <link xlink:href="https://documentation.suse.com/sles-15/html/SLES-all/article-modules.html">Modules and Extensions Quick Start</link>.</para>
      <para>The selection of modules indirectly affects the scope of the installation, because it defines which software sources (repositories) are available for installation and in the running system.</para>
      <figure><!-- FIXME cwickert 2025-01-31: Update screenshot for SLE 15 SP7 GA -->
         <title>Extension and module selection</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_extensions_sles.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_extensions_sles.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>The following modules and extensions are available for <phrase role="productname">SUSE Linux Enterprise Server</phrase>:</para>
      <variablelist>
         <varlistentry>
            <term>Basesystem Module</term>
            <listitem>
               <para>This module adds a basic system on top of the Unified Installer. It is required by all other modules and extensions. The scope of an installation that only contains the base system is comparable to the installation pattern <citetitle>minimal system</citetitle> of previous <phrase role="productname">SUSE Linux Enterprise Server</phrase> versions. This module is selected for installation by default and should not be deselected.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> None</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Certifications Module</term>
            <listitem>
               <para>Contains the FIPS certification packages.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Server Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Confidential Computing Technical Preview</term>
            <listitem>
               <para>Contains packages related to confidential computing.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Containers Module</term>
            <listitem>
               <para>Contains support and tools for containers.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Desktop Applications Module</term>
            <listitem>
               <para>Adds a graphical user interface and essential desktop applications to the system.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Development Tools Module</term>
            <listitem>
               <para>Contains compilers (including <package>gcc</package>) and libraries required for compiling and debugging applications. Replaces the former Software Development Kit (SDK).</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Desktop Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>High Performance Computing (HPC) Module</term>
            <listitem>
               <para>Provides specific tools commonly used for high performance, numerically intensive workloads.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Legacy Module</term>
            <listitem>
               <para>Helps you with migrating applications from earlier versions of <phrase role="productname">SUSE Linux Enterprise Server</phrase> and other systems to SLES <phrase role="productnumber">15 SP7</phrase>, by providing packages which are discontinued on SUSE Linux Enterprise. Packages in this module are selected based on the requirement for migration and the level of complexity of configuration.</para>
               <para>This module is recommended when migrating from a previous product version.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>NVIDIA Compute Module</term>
            <listitem>
               <para>Contains the NVIDIA CUDA (Compute Unified Device Architecture) drivers.</para>
               <para>The software in this module is provided by NVIDIA under the <link xlink:href="http://docs.nvidia.com/cuda/eula/">CUDA End User License Agreement</link> and is not supported by SUSE.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Public Cloud Module</term>
            <listitem>
               <para>Contains all tools required to create images for deploying <phrase role="productname">SUSE Linux Enterprise Server</phrase> in cloud environments such as Amazon Web Services (AWS), Microsoft Azure, Google Compute Platform, or OpenStack.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Python 3 Module</term>
            <listitem>
               <para>This module contains the most recent version of the selected Python 3 packages.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>SAP Business One Server</term>
            <listitem>
               <para>This module contains packages and system configuration specific to SAP Business One Server. It is maintained and supported by the SUSE Linux Enterprise Server product subscription.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications, Desktop Applications, Development Tools</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Server Applications Module</term>
            <listitem>
               <para>Adds server functionality by providing network services such as DHCP server, name server, or Web server. This module is selected for installation by default; deselecting it is not recommended.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>SUSE Linux Enterprise High Availability</term>
            <listitem>
               <para>Adds clustering support for mission critical setups to <phrase role="productname">SUSE Linux Enterprise Server</phrase>. This extension requires a separate license key.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>SUSE Linux Enterprise Live Patching</term>
            <listitem>
               <para>Adds support for performing critical patching without having to shut down the system. This extension requires a separate license key.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>SUSE Linux Enterprise Workstation Extension</term>
            <listitem>
               <para>Extends the functionality of <phrase role="productname">SUSE Linux Enterprise Server</phrase> with packages from SUSE Linux Enterprise Desktop, like additional desktop applications (office suite, e-mail client, graphical editor, etc.) and libraries. It allows to combine both products to create a fully featured workstation. This extension requires a separate license key.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Desktop Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>SUSE Package Hub</term>
            <listitem>
               <para>Provides access to packages for <phrase role="productname">SUSE Linux Enterprise Server</phrase> maintained by the openSUSE community. These packages are delivered without L3 support and do not interfere with the supportability of <phrase role="productname">SUSE Linux Enterprise Server</phrase>. For more information, refer to <link xlink:href="https://packagehub.suse.com/"/>.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Transactional Server Module</term>
            <listitem>
               <para>Adds support for transactional updates. Updates are either applied to the system all together in a single transaction, or not. This happens without influencing the running system. If an update fails, or if the successful update is deemed to be incompatible or otherwise incorrect, it can be discarded to immediately return the system to its previous functioning state.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>Web and Scripting Module</term>
            <listitem>
               <para>Contains packages intended for a running Web server.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications</para>
            </listitem>
         </varlistentry>
      </variablelist>
      <para>Some modules depend on the installation of other modules. Therefore, when selecting a module, other modules may be selected automatically to fulfill dependencies.</para>
      <para>Depending on the product, the registration server can mark modules and extensions as recommended. Recommended modules and extensions are preselected for registration and installation. To avoid installing these recommendations, deselect them manually.</para>
      <para>Select the modules and extensions you want to install and proceed with <guimenu>Next</guimenu>. In case you have chosen one or more extensions, you will be prompted to provide the respective registration codes. Depending on your choice, it may also be necessary to accept additional license agreements.</para>
      <important>
         <title>Default modules for offline installation</title>
         <para>When performing an offline installation from the SLE-15-SP7-Full-<replaceable>ARCH</replaceable>-GM-media1.iso, only the <guimenu>Basesystem Module</guimenu> is selected by default. To install the complete default package set of SUSE Linux Enterprise Server, additionally select the <guimenu>Server Applications Module</guimenu> and the <guimenu>Python 3 Module</guimenu>.</para>
      </important>
   </sect1>
   <sect1 xml:id="sec-yast-install-addons">
      <title>Add-on product</title>
      <para>The <guimenu>Add On Product</guimenu> dialog allows you to add additional software sources (so-called <quote>repositories</quote>) to <phrase role="productname">SUSE Linux Enterprise Server</phrase>, that are not provided by the SUSE Customer Center. Such add-on products may include third-party products and drivers or additional software for your system.</para>
      <figure>
         <title>Add-on product</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_addon.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_addon.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>From this dialog, you can switch to the YaST <guimenu>Network Settings</guimenu> module by clicking <guimenu>Network Configuration</guimenu>. For details, see <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
         <xref linkend="sec-network-yast" xrefstyle="%label &#34;%c&#34;"/>.</para>
      <tip>
         <title>Adding drivers during the installation</title>
         <para>You can also add driver update repositories via the <guimenu>Add On Product</guimenu> dialog. Driver updates for SUSE Linux Enterprise are provided at <link xlink:href="https://drivers.suse.com/"/>. These drivers have been created via the SUSE SolidDriver Program.</para>
      </tip>
      <para>If you do not want to install add-ons, proceed with <guimenu>Next</guimenu>. Otherwise activate <guimenu>I would like to install an additional Add On Product</guimenu>. Specify the Media Type by choosing from CD, DVD, Hard Disk, USB Mass Storage, a Local Directory or a Local ISO Image. If network access has been configured you can choose from additional remote sources such as HTTP, SLP, FTP, etc. Alternatively you may directly specify a URL. Check <guimenu>Download repository description files</guimenu> to download the files describing the repository now. If deactivated, they will be downloaded after the installation starts. Proceed with <guimenu>Next</guimenu> and insert a CD or DVD if required.</para>
      <para>Depending on the add-on's content, it may be necessary to accept additional license agreements.</para>
   </sect1>
   <sect1 xml:id="sec-yast-install-system-role">
      <title>System roles</title>
      <para>To simplify the installation, the installer offers predefined use cases that tailor the system for the selected scenario.</para>
      <figure>
         <title>System role</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_system_role_sles.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_system_role_sles.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>Choose the <guimenu>System Role</guimenu> that meets your requirements best. The availability of system roles depends on your selection of modules and extensions. The dialog is omitted under the following conditions:</para>
      <itemizedlist>
         <listitem>
            <para>The combination of base product and modules does not allow roles to be chosen.</para>
         </listitem>
         <listitem>
            <para>The combination of base product and modules only allows a single role.</para>
         </listitem>
      </itemizedlist>
      <para>With the default selection, the following system roles are available:</para>
      <variablelist>
         <varlistentry>
            <term>
               <guimenu>Text Mode</guimenu>
            </term>
            <listitem>
               <para>This option installs a basic SLES without a desktop environment but with a rich set of command line tools.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>
               <guimenu>Minimal</guimenu>
            </term>
            <listitem>
               <para>Select this role if you want a very small installation with only the basic command line tools.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> None</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>
               <guimenu>KVM Virtualization Host</guimenu>
            </term>
            <listitem>
               <para>Select this scenario when installing on a machine that should serve as a KVM host that can run other virtual machines. <filename>/var/lib/libvirt</filename> will be placed on a separate partition and the firewall and Kdump will be disabled.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>
               <guimenu>Xen Virtualization Host</guimenu>
            </term>
            <listitem>
               <para>Select this scenario when installing on a machine that should serve as a Xen host that can run other virtual machines. <filename>/var/lib/libvirt</filename> will be placed on a separate partition and the firewall and Kdump will be disabled.</para>
               <para>
                  <emphasis>Dependencies:</emphasis> Basesystem, Server Applications</para>
            </listitem>
         </varlistentry>
      </variablelist>
   </sect1>
   <sect1 xml:id="sec-yast-install-partitioning">
      <title>Partitioning</title>
      <sect2 xml:id="sec-yast-install-partitioning-important">
         <title>Important information</title>
         <remark>Include information that BTRFS with enabled snapshots is mandatory for SLE Micro root fs.</remark>
         <warning>
            <title>Read this section carefully</title>
            <para>Read this section carefully before continuing with <xref linkend="sec-yast-install-partitioning-suggested"/>.</para>
         </warning>
         <variablelist>
            <varlistentry>
               <term>Custom partitioning on UEFI machines</term>
               <listitem>
                  <para>A UEFI machine <emphasis>requires</emphasis> an EFI system partition that must be mounted to <filename>/boot/efi</filename>. This partition must be formatted with the <literal>FAT32</literal> file system.</para>
                  <para>If an EFI system partition is already present on your system (for example from a previous Windows installation) use it by mounting it to <filename>/boot/efi</filename> without formatting it.</para>
                  <para>If no EFI system partition is present on your UEFI machine, make sure to create it. The EFI system partition must be a physical partition or RAID 1. Other RAID levels, LVM and other technologies are not supported. It needs to be formatted with the FAT32 file system.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>Custom partitioning and <systemitem>Snapper</systemitem>
               </term>
               <listitem>
                  <para>If the root partition is larger than 16 GB, <phrase role="productname">SUSE Linux Enterprise Server</phrase> by default enables file system snapshots.</para>
                  <para>
                     <phrase role="productname">SUSE Linux Enterprise Server</phrase> uses Snapper together with Btrfs for this feature. Btrfs needs to be set up with snapshots enabled for the root partition.</para>
                  <para>If the disk is smaller than 16 GB, all Snapper features and automatic snapshots are disabled to prevent the system partition <filename>/</filename> from running out of space.</para>
                  <para>Being able to create system snapshots that enable rollbacks requires important system directories to be mounted on a single partition, for example <filename>/usr</filename> and <filename>/var</filename>. Only directories that are excluded from snapshots may reside on separate partitions, for example <filename>/usr/local</filename>, <filename>/var/log</filename>, and <filename>/tmp</filename>.</para>
                  <para>If snapshots are enabled, the installer will automatically create <literal>single</literal> snapshots during and immediately after the installation.</para>
                  <para>For details, see <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
                     <xref linkend="cha-snapper" xrefstyle="%label &#34;%c&#34;"/>.</para>
                  <important>
                     <title>Btrfs snapshots and root partition size</title>
                     <para>Snapshots may take considerable storage space. Generally, the older a snapshot is or the larger the changeset it covers, the more storage space the snapshot takes. And the more snapshots you keep, the more disk space you need.</para>
                     <para>To prevent the root partition running full with snapshot data, you need to make sure it is big enough. In case you do frequent updates or other installations, consider at least 30 GB for the root partition. If you plan to keep snapshots activated for a system upgrade or a service pack migration (to be able to roll back), you should consider 40 GB or more.</para>
                  </important>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>Btrfs data volumes</term>
               <listitem>
                  <para>Using Btrfs for data volumes is supported on <phrase role="productname">SUSE Linux Enterprise Server</phrase>
                     <phrase role="productnumber">15 SP7</phrase>. For applications that require Btrfs as a data volume, consider creating a separate file system with quota groups disabled. This is already the default for non-root file systems.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>Btrfs on an encrypted root partition</term>
               <listitem>
                  <para>The default partitioning setup suggests the root partition as Btrfs. To encrypt the root partition, make sure to use the GPT partition table type instead of the MSDOS type. Otherwise the GRUB2 boot loader may not have enough space for the second stage loader.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>IBM Z: Using minidisks in z/VM</term>
               <listitem>
                  <para>If <phrase role="productname">SUSE Linux Enterprise Server</phrase> is installed on minidisks in z/VM, which reside on the same physical disk, the access path of the minidisks (/dev/disk/by-id/) is not unique. This is because it represents the ID of the physical disk. If two or more minidisks are on the same physical disk, they all have the same ID.</para>
                  <para>To avoid problems when mounting minidisks, always mount them either <emphasis>by path</emphasis> or <emphasis>by UUID</emphasis>.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>IBM Z: Using FBA DASDs in z/VM</term>
               <listitem>
                  <para>If <phrase role="productname">SUSE Linux Enterprise Server</phrase> is installed on FBA DASDs in z/VM, a suggested partitioning cannot be provided. Instead, choose <menuchoice>
                        <guimenu>Expert Partitioner</guimenu>
                        <guimenu>Start with existing partitions</guimenu>
                     </menuchoice>.</para>
                  <para>FBA DASD comes with an implicit partition that must not be deleted, but should be reused without any changes. Do <emphasis>not</emphasis> repartition the FBA DASD.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>IBM Z: LVM root file system</term>
               <listitem>
                  <para>If you configure the system with a root file system on LVM or software RAID array, you must place <filename>/boot</filename> on a separate, non-LVM or non-RAID partition, otherwise the system will fail to boot. The recommended size for such a partition is 500 MB and the recommended file system is Ext4.</para>
               </listitem>
            </varlistentry>
            <varlistentry><!-- this warning is duplicated in sec.power.prep -->
               <term>IBM POWER: Installing on systems with multiple Fibre Channel disks</term>
               <listitem>
                  <para>If more than one disk is available, the partitioning scheme suggested during the installation puts the PReP and BOOT partitions on different disks. If these disks are Fibre Channel disks, the GRUB boot loader is not able to find the BOOT partition and the system cannot be booted.</para>
                  <para>When prompted to select the partition scheme during the installation, choose <guimenu>Guided Setup</guimenu> and verify that only one disk is selected for installation. Alternatively, run the <guimenu>Expert Partitioner</guimenu> and manually set up a partitioning scheme that has PReP and BOOT on a single disk.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>Supported software RAID volumes</term>
               <listitem>
                  <para>Installing to and booting from existing software RAID volumes is supported for Disk Data Format (DDF) volumes and Intel Matrix Storage Manager (IMSM) volumes. IMSM is also known by the following names:</para>
                  <itemizedlist mark="bullet" spacing="normal">
                     <listitem>
                        <para>Intel Rapid Storage Technology</para>
                     </listitem>
                     <listitem>
                        <para>Intel Matrix Storage Technology</para>
                     </listitem>
                     <listitem>
                        <para>Intel Application Accelerator / Intel Application Accelerator RAID Edition</para>
                     </listitem>
                     <listitem>
                        <para>Intel Virtual RAID on CPU (Intel VROC, see <link xlink:href="https://www.intel.com/content/www/us/en/support/articles/000024498/memory-and-storage/ssd-software.html"/> for more details)</para>
                     </listitem>
                  </itemizedlist>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>Mount points for FCoE and iSCSI devices</term>
               <listitem>
                  <para>FCoE and iSCSI devices will appear asynchronously during the boot process. While the initrd guarantees that those devices are set up correctly for the root file system, there are no such guarantees for any other file systems or mount points like <filename>/usr</filename>. Hence any system mount points like <filename>/usr</filename> or <filename>/var</filename> are not supported. To use those devices, ensure correct synchronization of the respective services and devices.</para>
               </listitem>
            </varlistentry>
         </variablelist>
      </sect2>
      <sect2 xml:id="sec-yast-install-partitioning-suggested">
         <title>Suggested partitioning</title>
         <para>Define a partition setup for <phrase role="productname">SUSE Linux Enterprise Server</phrase> in this step.</para>
         <figure>
            <title>Suggested partitioning</title>
            <mediaobject>
               <imageobject outputformat="print">
                  <imagedata fileref="media/install_partitioner.png" width="100%"/>
               </imageobject>
               <imageobject outputformat="screen">
                  <imagedata fileref="media/install_partitioner.png" width="100%"/>
               </imageobject>
            </mediaobject>
         </figure>
         <para>Depending on the system role, the installer creates a proposal for one of the disks available. All proposals contain a root partition formatted with Btrfs (with snapshots enabled) and a swap partition. The GNOME desktop and the text mode proposals create a separate home partition on disks larger than 20 GB. The system roles for virtualization hosts create a separate partition for <filename>/var/lib/libvirt</filename>, the directory that hosts the image files by default. If one or more swap partitions have been detected on the available hard disks, these existing ones will be used (rather than proposing a new swap partition). You have several options to proceed:</para>
         <variablelist>
            <varlistentry>
               <term>
                  <guimenu>Next</guimenu>
               </term>
               <listitem>
                  <para>To accept the proposal without any changes, click <guimenu>Next</guimenu> to proceed with the installation workflow.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>
                  <guimenu>Guided setup</guimenu>
               </term>
               <listitem>
                  <para>To adjust the proposal, choose <guimenu>Guided Setup</guimenu>. First, choose which hard disks and partitions to use. In the <guimenu>Partitioning Scheme</guimenu> screen, you can enable Logical Volume Management (LVM) and activate disk encryption. Afterward specify the <guimenu>Filesystem Options</guimenu>. You can adjust the file system for the root partition and create a separate home and swap partitions. If you plan to suspend your machine, make sure to create a separate swap partition and check <guimenu>Enlarge to RAM Size for Suspend</guimenu>. If the root file system format is Btrfs, you can also enable or disable Btrfs snapshots here.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>
                  <guimenu>Expert Partitioner</guimenu>
               </term>
               <listitem>
                  <para>To create a custom partition setup click <guimenu>Expert Partitioner</guimenu>. Select either <guimenu>Start with Current Proposal</guimenu> if you want start with the suggested disk layout, or <guimenu>Start with Existing Partitions</guimenu> to ignore the suggested layout and start with the existing layout on the disk. You can <guimenu>Add</guimenu>, <guimenu>Edit</guimenu>, <guimenu>Resize</guimenu>, or <guimenu>Delete</guimenu> partitions.</para>
                  <para>You can also set up logical volume management (LVM), configure software RAID and device mapping (DM), encrypt partitions, mount NFS shares and manage tmpfs volumes with the <guimenu>Expert Partitioner</guimenu>. To fine-tune settings such as the subvolume and snapshot handling for each Btrfs partition, choose <guimenu>Btrfs</guimenu>. For more information about custom partitioning and configuring advanced features, refer to <xref linkend="sec-expert-partitioner"/>.</para>
               </listitem>
            </varlistentry>
         </variablelist>
         <warning>
            <title>Disk space units</title>
            <para>Note that for partitioning purposes, disk space is measured in binary units, rather than in decimal units. For example, if you enter sizes of <literal>1GB</literal>, <literal>1GiB</literal> or <literal>1G</literal>, they all signify 1 GiB (Gibibyte), as opposed to 1 GB (Gigabyte).</para>
            <variablelist>
               <varlistentry>
                  <term>Binary</term>
                  <listitem>
                     <para>1 GiB = 1 073 741 824 bytes.</para>
                  </listitem>
               </varlistentry>
               <varlistentry>
                  <term>Decimal</term>
                  <listitem>
                     <para>1 GB = 1 000 000 000 bytes.</para>
                  </listitem>
               </varlistentry>
               <varlistentry>
                  <term>Difference</term>
                  <listitem>
                     <para>1 GiB ≈ 1.07 GB.</para>
                  </listitem>
               </varlistentry>
            </variablelist>
         </warning>
      </sect2>
   </sect1>
   <sect1 xml:id="sec-yast-install-date-time">
      <title>Clock and time zone</title>
      <para>In this dialog, select your region and time zone. Both are preselected according to the installation language.</para>
      <figure>
         <title>Clock and time zone</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_timezone.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_timezone.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>To change the preselected values, either use the map or the drop-down boxes for <guimenu>Region</guimenu> and <guimenu>Time Zone</guimenu>. When using the map, point the cursor at the rough direction of your region and left-click to zoom. Now choose your country or region by left-clicking. Right-click to return to the world map.</para>
      <para>To set up the clock, choose whether the <guimenu>Hardware Clock is Set to UTC</guimenu>. If you run another operating system on your machine, such as Microsoft Windows, it is likely your system uses local time instead. If you run Linux on your machine, set the hardware clock to UTC and have the switch from standard time to daylight saving time performed automatically.</para>
      <important>
         <title>Set the hardware clock to UTC</title>
         <para>The switch from standard time to daylight saving time (and vice versa) can only be performed automatically when the hardware clock (CMOS clock) is set to UTC. This also applies if you use automatic time synchronization with NTP, because automatic synchronization will only be performed if the time difference between the hardware and system clock is less than 15 minutes.</para>
         <para>Since a wrong system time can cause serious problems (missed backups, dropped mail messages, mount failures on remote file systems, etc.), it is strongly recommended to <emphasis>always</emphasis> set the hardware clock to UTC.</para>
      </important>
      <para>If a network is already configured, you can configure time synchronization with an NTP server. Click <guimenu>Other Settings</guimenu> to either alter the NTP settings or to <guimenu>Manually</guimenu> set the time. See <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
         <xref linkend="cha-ntp" xrefstyle="%label &#34;%c&#34;"/> for more information on configuring the NTP service. When finished, click <guimenu>Accept</guimenu> to continue the installation.</para>
      <para>If running without NTP configured, consider setting <literal>SYSTOHC=no</literal> (<literal>sysconfig</literal> variable) to avoid saving unsynchronized time into the hardware clock.</para>
      <note>
         <title>Time cannot be changed on IBM Z</title>
         <para>Since the operating system is not allowed to change time and date directly, the <guimenu>Other Settings</guimenu> option is not available on IBM Z.</para>
      </note>
   </sect1>
   <sect1 xml:id="sec-yast-install-user">
      <title>Create new user</title>
      <para>Create a local user in this step.</para>
      <figure>
         <title>Create new user</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_user.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_user.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>After entering the first name and last name, either accept the proposal or specify a new <guimenu>User name</guimenu> that will be used to log in. Only use lowercase letters (a-z), digits (0-9) and the characters <literal>.</literal> (dot), <literal>-</literal> (hyphen) and <literal>_</literal> (underscore). Special characters, umlauts and accented characters are not allowed.</para>
      <para>Finally, enter a password for the user. Re-enter it for confirmation (to ensure that you did not type something else by mistake). To provide effective security, a password should be at least six characters long and consist of uppercase and lowercase letters, numbers and special characters (7-bit ASCII). Umlauts or accented characters are not allowed. Passwords you enter are checked for weakness. When entering a password that is easy to guess (such as a dictionary word or a name) you will see a warning. It is a good security practice to use strong passwords.</para>
      <important>
         <title>User name and password</title>
         <para>Remember both your user name and the password because they are needed each time you log in to the system.</para>
      </important>
      <para>If you install <phrase role="productname">SUSE Linux Enterprise Server</phrase> on a machine with one or more existing Linux installations, YaST allows you to import user data such as user names and passwords. Select <guimenu>Import User Data from a Previous Installation</guimenu> and then <guimenu>Choose Users</guimenu> for import.</para>
      <para>If you do not want to configure any local users (for example when setting up a client on a network with centralized user authentication), skip this step by choosing <guimenu>Next</guimenu> and confirming the warning. Network user authentication can be configured at any time later in the installed system; refer to <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
         <xref linkend="cha-yast-userman" xrefstyle="%label &#34;%c&#34;"/> for instructions.</para>
      <para>Two additional options are available:</para>
      <variablelist>
         <varlistentry>
            <term>
               <guimenu>Use this password for system administrator</guimenu>
            </term>
            <listitem>
               <para>If checked, the same password you have entered for the user will be used for the system administrator <systemitem class="username">root</systemitem>. This option is suitable for stand-alone workstations or machines in a home network that are administrated by a single user. When not checked, you are prompted for a system administrator password in the next step of the installation workflow (see <xref linkend="sec-yast-install-user-root"/>).</para>
            </listitem>
         </varlistentry>
         <varlistentry>
            <term>
               <guimenu>Automatic login</guimenu>
            </term>
            <listitem>
               <para>This option automatically logs the current user in to the system when it starts. This is mainly useful if the computer is operated by only one user. For automatic login to work, the option must be explicitly enabled.</para>
            </listitem>
         </varlistentry>
      </variablelist>
      <warning>
         <title>Automatic login</title>
         <para>With the automatic login enabled, the system boots straight into your desktop with no authentication. If you store sensitive data on your system, you should not enable this option if the computer can also be accessed by others.</para>
      </warning>
      <para>In an environment where users are centrally managed (for example by NIS or LDAP) you should skip the creation of local users. Select <guimenu>Skip User Creation</guimenu> in this case.</para>
   </sect1>
   <sect1 xml:id="sec-yast-install-user-root">
      <title>Authentication for the system administrator <systemitem class="username">root</systemitem>
      </title>
      <para>If you have not chosen <guimenu>Use this Password for System Administrator</guimenu> in the previous step, you will be prompted to enter a password for the system administrator <systemitem class="username">root</systemitem> or provide a public SSH key. Otherwise, this configuration step is skipped.</para>
      <figure>
         <title>Authentication for the system administrator <systemitem class="username">root</systemitem>
         </title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_root.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_root.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <para>Enter the password for the system administrator <systemitem class="username">root</systemitem>. For verification purposes, the password for <systemitem class="username">root</systemitem> must be entered twice. Do not forget the password as it cannot be retrieved later.</para>
      <tip>
         <title>Passwords and keyboard layout</title>
         <para>It is recommended to only use US ASCII characters. In case of a system error or when you need to start your system in rescue mode, the keyboard may not be localized.</para>
      </tip>
      <para>To change the <systemitem class="username">root</systemitem> password later in the installed system, run YaST and start <menuchoice>
            <guimenu>Security and Users</guimenu>
            <guimenu>User and Group Management</guimenu>
         </menuchoice>.</para>
      <important>
         <title>The <systemitem class="username">root</systemitem> user</title>
         <para>
            <systemitem class="username">root</systemitem> is the name of the system administrator or superuser. Its user ID (uid) is <literal>0</literal>. Unlike regular users, the <systemitem class="username">root</systemitem> account has unlimited privileges.</para>
         <variablelist>
            <varlistentry>
               <term>Do not forget the <systemitem class="username">root</systemitem> password</term>
               <listitem>
                  <para>Only <systemitem class="username">root</systemitem> has the privileges to change the system configuration, install programs, manage users and set up new hardware. To carry out such tasks, the <systemitem class="username">root</systemitem> password is required. Do not forget the password as it cannot be retrieved later.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>Do not use the <systemitem class="username">root</systemitem> user for daily work</term>
               <listitem>
                  <para>Logging in as <systemitem class="username">root</systemitem> for daily work is rather risky: Commands from <systemitem class="username">root</systemitem> are usually executed without additional confirmation, so a single mistake can lead to an irretrievable loss of system files. Only use the <systemitem class="username">root</systemitem> account for system administration, maintenance and repair.</para>
               </listitem>
            </varlistentry>
            <!-- cwickert 2023-07-04: This is based on https://www.suse.com/support/kb/doc/?id=000020537
         If you change something here, please also update sec-yast-userman-users and
         Configuration-Security-users.
       -->
            <varlistentry>
               <term>Do not rename the <systemitem class="username">root</systemitem> user account</term>
               <listitem>
                  <para>YaST will always name the system administrator <systemitem class="username">root</systemitem>. While it is technically possible to rename the <systemitem class="username">root</systemitem> account, certain applications, scripts or third-party products may rely on the existence of a user called <systemitem class="username">root</systemitem>. While such a configuration always targets individual environments, necessary adjustments could be overwritten by vendor updates, so this becomes an ongoing task rather than a one-time setting. This is especially true in very complex setups involving third-party applications, where it needs to be verified with every vendor involved whether a rename of the <systemitem class="username">root</systemitem> account is supported.</para>
                  <para>As the implications for renaming the <systemitem class="username">root</systemitem> account cannot be foreseen, SUSE does not support renaming the <systemitem class="username">root</systemitem> account.</para>
                  <para>Usually, the idea behind renaming the <systemitem class="username">root</systemitem> account is to hide it or make it unpredictable. However, <filename>/etc/passwd</filename> requires <literal>644</literal> permissions for regular users, so any user of the system can retrieve the login name for the user ID 0. For better ways to secure the <systemitem class="username">root</systemitem> account, refer to <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Security and Hardening Guide</quote>, </phrase>
                     <xref linkend="sec-sec-prot-restrict-root" xrefstyle="%label &#34;%c&#34;"/> and <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Security and Hardening Guide</quote>, </phrase>
                     <xref linkend="sec-sec-prot-restrict-root-ssh" xrefstyle="%label &#34;%c&#34;"/>.</para>
               </listitem>
            </varlistentry>
         </variablelist>
      </important>
      <para>If you want to access the system remotely via SSH using a public key, import a key from a removable storage device or an existing partition. <!-- FIXME cwickert 2021-06-27: Remove following sentence and use it as
    result of the precedure instead, once we have a style for that. See comment
    further at the end of precedure.
   --> After the installation is finished, you can log in through SSH using the provided SSH key.</para>
      <procedure xml:id="pro-yast-install-user-root-sshkey">
         <title>Adding a public SSH key for user <systemitem class="username">root</systemitem>
         </title>
         <para>To import a public SSH key from a medium partition, perform the following steps:</para>
         <step>
            <para>The public SSH key is located in your <filename class="directory">~/.ssh</filename> directory and has the file extension <filename class="extension">.pub</filename>. Copy it to a removable storage device or an existing partition that is not formatted during installation.</para>
         </step>
         <step>
            <para>If your key is on a removable storage device, insert it into your computer and click <guimenu>Refresh</guimenu>. You should see the device in the drop-down box under <guimenu>Import Public Key</guimenu>.</para>
         </step>
         <step>
            <para>Click <guimenu>Browse</guimenu>, select the public SSH key and confirm with <guimenu>Open</guimenu>.</para>
         </step>
         <step>
            <para>Proceed with <guimenu>Next</guimenu>.</para>
         </step>
         <!-- FIXME cwickert 2021-06-27 Commented out until we have a style for
    result, see https://github.com/openSUSE/suse-xsl/issues/286 -->
         <!--
   <result>
    <para>
     After the installation is finished, you can log in through SSH using the
     provided SSH key.
    </para>
   </result> -->
      </procedure>
      <!-- cwickert 2021-06-25: Behavior changed in SLE 15 SP3 with SLE-15487:
   No root password set, SSH key only: Port will be opened by yast automatically
   to avoid being locked out of the newly installed system.
   Password and key: Port will not be opened automatically, enable it manually
   if you need remote access right after installation.
  -->
      <para>If you have both set a password and added a public SSH key, and need remote access right after the installation, do not forget to open the SSH port in the <guimenu>Security</guimenu> section of the <guimenu>Installation Settings</guimenu> summary. If you set no password but only add a key, the port will be opened automatically to prevent you from being locked out of the newly installed system.</para>
   </sect1>
   <sect1 xml:id="sec-yast-install-proposal">
      <title>Installation settings</title>
      <para>On the last step before the real installation takes place, you can alter installation settings suggested by the installer. To modify the suggestions, click the respective headline. After having made changes to a particular setting, you are always returned to the Installation Settings window, which is updated accordingly.</para>
      <para>If you have added an SSH key for your <systemitem class="username">root</systemitem> as mentioned in <xref linkend="pro-yast-install-user-root-sshkey" xrefstyle="%label"/>, make sure to open the SSH port in the <guimenu>Security</guimenu> settings.</para>
      <figure>
         <title>Installation settings</title>
         <mediaobject>
            <imageobject outputformat="print">
               <imagedata fileref="media/install_summary_sles.png" width="100%"/>
            </imageobject>
            <imageobject outputformat="screen">
               <imagedata fileref="media/install_summary_sles.png" width="100%"/>
            </imageobject>
         </mediaobject>
      </figure>
      <sect2 xml:id="sec-yast-install-proposal-sofware">
         <title>
            <guimenu>Software</guimenu>
         </title>
         <remark>Mention Cockpit here.</remark>
         <para>
            <phrase role="productname">SUSE Linux Enterprise Server</phrase> contains several software patterns for various application purposes. The available choice of patterns and packages depends on your selection of modules and extensions.</para>
         <para>Click <guimenu>Software</guimenu> to open the <guimenu>Software Selection and System Tasks</guimenu> screen where you can modify the pattern selection according to your needs. Select a pattern from the list and see a description in the right-hand part of the window.</para>
         <para>Each pattern contains several software packages needed for specific functions (for example Web and LAMP server or a print server). For a more detailed selection based on software packages to install, select <guimenu>Details</guimenu> to switch to the YaST Software Manager.</para>
         <figure>
            <title>Software selection and system tasks</title>
            <mediaobject>
               <imageobject outputformat="print">
                  <imagedata fileref="media/install_software_sles.png" width="100%"/>
               </imageobject>
               <imageobject outputformat="screen">
                  <imagedata fileref="media/install_software_sles.png" width="100%"/>
               </imageobject>
            </mediaobject>
         </figure>
         <para>You can also install additional software packages or remove software packages from your system at any later time with the YaST Software Manager. For more information, refer to <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
            <xref linkend="cha-yast-software" xrefstyle="%label &#34;%c&#34;"/>.</para>
         <para>If you choose to install GNOME, <phrase role="productname">SUSE Linux Enterprise Server</phrase> is installed with the X.org display server. As an alternative to GNOME, the lightweight window manager IceWM can be installed. Select <guimenu>Details</guimenu> from the <guimenu>Software Selection and System Tasks</guimenu> screen and search for <literal>icewm</literal>.</para>
         <tip>
            <title>IBM Z: Hardware cryptography support</title>
            <para>The hardware cryptography stack is not installed by default. To install it, select <guimenu>System z HW crypto support</guimenu> in the <guimenu>Software Selection and System Tasks</guimenu> screen.</para>
         </tip>
         <tip xml:id="ann-sec-yast-install-proposal-sofware-language">
            <title>Adding secondary languages</title>
            <para>The language you selected with the first step of the installation will be used as the primary (default) language for the system. You can add secondary languages from within the <guimenu>Software</guimenu> dialog by choosing <menuchoice>
                  <guimenu>Details</guimenu>
                  <guimenu>View</guimenu>
                  <guimenu>Languages</guimenu>
               </menuchoice>.</para>
         </tip>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-booting">
         <title>
            <guimenu>Booting</guimenu>
         </title>
         <para>The installer proposes a boot configuration for your system. Other operating systems found on your computer, such as Microsoft Windows or other Linux installations, will automatically be detected and added to the boot loader. However, <phrase role="productname">SUSE Linux Enterprise Server</phrase> will be booted by default. Normally, you can leave these settings unchanged. If you need a custom setup, modify the proposal according to your needs. For information, see <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
            <xref linkend="sec-grub2-yast2-config" xrefstyle="%label &#34;%c&#34;"/>.</para>
         <important>
            <title>Software RAID 1</title>
            <para>Booting a configuration where <filename>/boot</filename> resides on a software RAID 1 device is supported, but it requires to install the boot loader into the MBR (<menuchoice>
                  <guimenu>Boot Loader Location</guimenu>
                  <guimenu>Boot from Master Boot Record</guimenu>
               </menuchoice>). Having <filename>/boot</filename> on software RAID devices with a level other than RAID 1 is not supported. Also see <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Storage Administration Guide</quote>, </phrase>
               <xref linkend="cha-raidroot" xrefstyle="%label &#34;%c&#34;"/>.</para>
         </important>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-security">
         <title>
            <guimenu>Security</guimenu>
         </title>
         <para>The <guimenu>CPU Mitigations</guimenu> refer to kernel boot command line parameters for software mitigations that have been deployed to prevent CPU side-channel attacks. Click the selected entry to choose a different option. For details, see <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
            <xref linkend="vle-grub2-yast2-cpu-mitigations" xrefstyle="%label &#34;%c&#34;"/>.</para>
         <para>By default, the <guimenu>Firewall</guimenu> is enabled on all configured network interfaces. To completely disable <systemitem class="daemon">firewalld</systemitem>, click <guimenu>disable</guimenu> (not recommended).</para>
         <note>
            <title>Firewall settings</title>
            <para>When the firewall is activated, all interfaces are assigned to the <literal>public</literal> zone, where all ports are closed by default, ensuring maximum security. The only port you can open during the installation is port 22 (SSH), to allow remote access. Other services requiring network access (such as FTP, Samba, Web server, etc.) will only work after having adjusted the firewall settings. Refer to <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Security and Hardening Guide</quote>, </phrase>
               <xref linkend="cha-security-firewall" xrefstyle="%label &#34;%c&#34;"/> for configuration details.</para>
         </note>
         <note>
            <title>Firewall settings for receiving updates</title>
            <para>If your system is behind a firewall that blocks outgoing traffic, make sure to allow connections to <uri>https://scc.suse.com/</uri> and <uri>https://updates.suse.com</uri> on ports 80 and 443 in order to receive updates. For more information, such as IP addresses and proxy server configuration, refer to <link xlink:href="https://www.suse.com/support/kb/doc/?id=000021034"/>.</para>
         </note>
         <para>The <guimenu>SSH service</guimenu> is enabled by default, but its port (22) is closed in the firewall. Click <guimenu>open</guimenu> to open the port or <guimenu>disable</guimenu> to disable the service. Note that if SSH is disabled, remote logins will not be possible. Refer to <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Security and Hardening Guide</quote>, </phrase>
            <xref linkend="cha-ssh" xrefstyle="%label &#34;%c&#34;"/> for more information.</para>
         <tip>
            <title>Existing SSH host keys</title>
            <para>If you install <phrase role="productname">SUSE Linux Enterprise Server</phrase> on a machine with existing Linux installations, the installation routine imports an SSH host key. It chooses the host key with the most recent access time by default. See also <xref linkend="sec-yast-install-proposal-sshimport"/>.</para>
         </tip>
         <para>If you are performing a remote administration over VNC, you can also specify whether the machine should be accessible via VNC after the installation. Note that enabling VNC also requires you to set the <guimenu>Default systemd Target</guimenu> to <guimenu>graphical</guimenu>.</para>
         <para>The default <guimenu>Major Linux Security Module</guimenu> is <guimenu>AppAmpor</guimenu>. To disable it, select <guimenu>None</guimenu> as module in the <guimenu>Security</guimenu> settings. This allows you to deselect the <guimenu>AppAmor</guimenu> pattern in the <guimenu>Software</guimenu> settings (<xref linkend="sec-yast-install-proposal-sofware"/>).</para>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-security-profile"><!--
    FIXME cwickert 2023-02-09: JSC#SLE-25039; additional profiles will be added
    later and the implementation will likely change.
   -->
         <title>
            <guimenu>Security Profiles</guimenu>
         </title>
         <important>
            <title>Availability in SUSE Linux Enterprise 15 SP4</title>
            <para>This feature is available for SUSE Linux Enterprise 15 SP4 GM via installer self-update or using the QU2 media.</para>
         </important>
         <para>This category allows hardening your system with OpenSCAP security policies. The first policy that was implemented is the <literal>Security Technical Implementation Guide (STIG)</literal> by the <orgname>Defense Information Systems Agency</orgname> (<orgname>DISA</orgname>).</para>
         <para>Click to <guimenu>enable</guimenu> the security policy. Non-compliant installation settings will be listed with the rule they violate. Some settings can be adjusted automatically by clicking <guimenu>fix rule</guimenu>. For settings that require user input, click <guimenu>modify settings</guimenu> to open the respective settings screen.</para>
         <tip>
            <title>Checking policy compliance during installation</title>
            <para>If you do not want to wait for the <guimenu>Installation Settings</guimenu> screen, but want the installer to check the settings from the beginning of the installation process, boot the system with the boot parameter <literal>YAST_SECURITY_POLICY=<replaceable>POLICY</replaceable>
               </literal>. To check for compliance with the DISA STIG, use <literal>YAST_SECURITY_POLICY=stig</literal>. For more information about boot parameters, refer to <xref linkend="cha-boot-parameters"/>.</para>
         </tip>
         <para>The installer does not check all rules of the profile, only those necessary for the installation or that are hard to fix afterward. To apply the remaining rules, a full SCAP remediation is performed on first boot. You can also perform a <guimenu>scan only</guimenu> or <guimenu>do nothing</guimenu> and manually remediate the system later with OpenSCAP. For more information, refer to the articles <link xlink:href="https://documentation.suse.com/compliance/all/html/SLES-stig/article-stig.html">
               <citetitle>Hardening SUSE Linux Enterprise with STIG</citetitle>
            </link> and <link xlink:href="https://documentation.suse.com/compliance/all/html/SLES-openscap/article-openscap.html">
               <citetitle>Hardening SUSE Linux Enterprise with OpenSCAP</citetitle>
            </link>.</para>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-network">
         <title>
            <guimenu>Network configuration</guimenu>
         </title>
         <para>This category displays the current network settings, as automatically configured after booting into the installation (see <xref linkend="sec-yast-install-network" xrefstyle="%label"/>) or as manually configured during the installation process. By default, <command>wicked</command> is used for server installations and NetworkManager for desktop workloads.</para>
         <para>If you want to check or adjust the network settings, click <guimenu>Network Configuration</guimenu>. This takes you to the YaST <guimenu>Network Settings</guimenu> module. For details, see <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>Administration Guide</quote>, </phrase>
            <xref linkend="sec-network-yast" xrefstyle="%label &#34;%c&#34;"/>.</para>
         <important>
            <title>Support for NetworkManager</title>
            <para>SUSE only supports NetworkManager for desktop workloads with SLED or the Workstation extension. All server certifications are done with <command>wicked</command> as the network configuration tool, and using NetworkManager may invalidate them. NetworkManager is not supported by SUSE for server workloads.</para>
         </important>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-kdump">
         <title>
            <guimenu>Kdump</guimenu>
         </title>
         <para>Using Kdump, you can save a dump of the kernel (in case of a crash) to analyze what went wrong. Use this dialog to enable and configure Kdump. Find detailed information at <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>System Analysis and Tuning Guide</quote>, </phrase>
            <xref linkend="cha-tuning-kexec" xrefstyle="%label &#34;%c&#34;"/>.</para>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-blacklist">
         <title>
            <guimenu>IBM Z: blacklist devices</guimenu>
         </title>
         <para>To save memory, all channels for devices currently not in use are blacklisted by default (each channel that is not blacklisted occupies approximately 50 KB of memory). To configure additional hardware in the installed system using channels that are currently blacklisted, run the respective YaST module to enable the respective channels first.</para>
         <para>To disable blacklisting, click <guimenu>disable</guimenu>.</para>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-runlevel">
         <title>
            <guimenu>Default systemd target</guimenu>
         </title>
         <remark>No graphical target.</remark>
         <para>
            <phrase role="productname">SUSE Linux Enterprise Server</phrase> can boot into two different targets (formerly known as <quote>runlevels</quote>). The <guimenu>graphical</guimenu> target starts a display manager, whereas the <guimenu>multi-user</guimenu> target starts the command line interface.</para>
         <para>The default target is <guimenu>graphical</guimenu>. In case you have not installed the <guimenu>X Window System</guimenu> patterns, you need to change it to <guimenu>multi-user</guimenu>. If the system should be accessible via VNC, you need to choose <guimenu>graphical</guimenu>.</para>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-sshimport">
         <title>
            <guimenu>Import SSH host keys and configuration</guimenu>
         </title>
         <para>If an existing Linux installation on your computer was detected, YaST will import the most recent SSH host key found in <filename>/etc/ssh</filename> by default, optionally including other files in the directory as well. This makes it possible to reuse the SSH identity of the existing installation, avoiding the <literal>REMOTE HOST IDENTIFICATION HAS CHANGED</literal> warning on the first connection. Note that this item is not shown in the installation summary if YaST has not discovered any other installations. You have the following choices:</para>
         <variablelist>
            <varlistentry>
               <term>
                  <guimenu>I would like to import SSH keys from a previous install:</guimenu>
               </term>
               <listitem>
                  <para>Select this option to import the SSH host key and optionally the configuration of an installed system. You can select the installation to import from in the option list below.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>
                  <guimenu>Import SSH Configuration</guimenu>
               </term>
               <listitem>
                  <para>Enable this to copy other files in <filename>/etc/ssh</filename> to the installed system in addition to the host keys.</para>
               </listitem>
            </varlistentry>
         </variablelist>
      </sect2>
      <sect2 xml:id="sec-yast-install-proposal-system">
         <title>
            <guimenu>System</guimenu>
         </title>
         <para>This screen lists all the hardware information the installer could obtain about your computer. When opened for the first time, the hardware detection is started. Depending on your system, this may take some time. Select any item in the list and click <guimenu>Details</guimenu> to see detailed information about the selected item. Use <guimenu>Save to File</guimenu> to save a detailed list to either the local file system or a removable device.</para>
         <para>Advanced users can also change the <guimenu>PCI ID Setup</guimenu> and kernel settings by choosing <guimenu>Kernel Settings</guimenu>. A screen with two tabs opens:</para>
         <variablelist>
            <varlistentry>
               <term>
                  <guimenu>PCI ID setup</guimenu>
               </term>
               <listitem>
                  <para>Each kernel driver contains a list of device IDs of all devices it supports. If a new device is not in any driver's database, the device is treated as unsupported, even if it can be used with an existing driver. You can add PCI IDs to a device driver here. Only advanced users should attempt to do so.</para>
                  <para>To add an ID, click <guimenu>Add</guimenu> and select whether to <guimenu>Manually</guimenu> enter the data, or whether to choose from a list. Enter the required data. The <guimenu>SysFS Dir</guimenu> is the directory name from <filename>/sys/bus/pci/drivers</filename>—if empty, the <guimenu>driver</guimenu> name is used as the directory name. Existing entries can be managed with <guimenu>Edit</guimenu> and <guimenu>Delete</guimenu>.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>
                  <guimenu>Kernel settings</guimenu>
               </term>
               <listitem>
                  <para>Change the <guimenu>Global I/O Scheduler</guimenu> here. If <guimenu>Not Configured</guimenu> is chosen, the default setting for the respective architecture will be used. This setting can also be changed at any time later from the installed system. Refer to <phrase xmlns:l="http://docbook.org/ns/docbook/l10n" role="document-xref">Book <quote>System Analysis and Tuning Guide</quote>, </phrase>
                     <xref linkend="cha-tuning-io" xrefstyle="%label &#34;%c&#34;"/> for details on I/O tuning.</para>
                  <para>Also activate the <guimenu>Enable SysRq Keys</guimenu> here. These keys will let you issue basic commands (such as rebooting the system or writing kernel dumps) in case the system crashes. Enabling these keys is recommended when doing kernel development. Refer to <link xlink:href="https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html"/> for details.</para>
               </listitem>
            </varlistentry>
         </variablelist>
      </sect2>
   </sect1>
   <sect1 xml:id="sec-yast-install-perform">
      <title>Performing the installation</title>
      <para>After configuring all installation settings, click <guimenu>Install</guimenu> in the Installation Settings window to start the installation. Some software may require a license confirmation. If your software selection includes such software, license confirmation dialogs are displayed. Click <guimenu>Accept</guimenu> to install the software package. When not agreeing to the license, click <guimenu>I Disagree</guimenu> and the software package will not be installed. In the dialog that follows, confirm with <guimenu>Install</guimenu> again.</para>
      <para>The installation usually takes between 15 and 30 minutes, depending on the system performance and the selected software scope. After having prepared the hard disk and having saved and restored the user settings, the software installation starts. Choose <guimenu>Details</guimenu> to switch to the installation log or <guimenu>Release Notes</guimenu> to read important up-to-date information that was not available when the manuals were printed.</para>
      <para>After the software installation has completed, the system reboots into the new installation where you can log in. To customize the system configuration or to install additional software packages, start YaST.</para>
      <sect2 xml:id="sec-s390-inst-reipl">
         <title>IBM Z: IPLing the installed system</title>
         <para>YaST usually reboots into the installed system on the IBM Z platform. Exceptions are installations where the boot loader resides on an FCP device in environments with LPAR on a machine older than z196 or with z/VM older than release 5.4. The boot loader gets written to a separate partition mounted as <filename>/boot/zipl/</filename>.</para>
         <para>In cases where an automatic reboot is not possible, YaST will show a dialog containing information about from which device to do an IPL. Accept the shutdown option and perform an IPL after the shutdown. The procedure varies according to the type of installation:</para>
         <variablelist>
            <varlistentry>
               <term>LPAR installation</term>
               <listitem>
                  <para>In the IBM Z HMC, select <guimenu>Load</guimenu>, select <guimenu>Clear</guimenu>, then enter the loading address (the address of the device containing the <filename>/boot/zipl</filename> directory with the boot loader). If using a zFCP disk as the boot device, choose <guimenu>Load from SCSI</guimenu> and specify the load address of your FCP adapter plus WWPN and LUN of the boot device. Now start the loading process.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>z/VM installation</term>
               <listitem>
                  <para>Log in to the VM guest (see <xref linkend="ex-prep-prep-ipl-vm-linux-guest-config"/> for the configuration) as <systemitem class="username">LINUX1</systemitem> and proceed to IPL the installed system:</para>
                  <screen>IPL 151 CLEAR</screen>
                  <para>
                     <literal>151</literal> is an example address of the DASD boot device, replace this value with the correct address.</para>
                  <para>If using a zFCP disk as the boot device, specify both the zFCP WWPN and LUN of the boot device before initiating the IPL. The parameter length is limited to eight characters. Longer numbers must be separated by spaces:</para>
                  <screen>SET LOADDEV PORT 50050763 00C590A9 LUN 50010000 00000000 </screen>
                  <para>Finally, initiate the IPL:</para>
                  <screen>IPL FC00</screen>
                  <para>
                     <literal>FC00</literal> is an example address of the zFCP adapter, replace this value with the correct address.</para>
               </listitem>
            </varlistentry>
            <varlistentry>
               <term>KVM guest installation</term>
               <listitem>
                  <para>After the installation has finished, the virtual machine is shut down. At this point, log in to the KVM host, edit the virtual machine's description file and restart it to IPL into the installed system:</para>
                  <procedure>
                     <step>
                        <para>Log in to the KVM host.</para>
                     </step>
                     <step>
                        <para>Edit the domain XML file by running</para>
                        <screen><prompt>&gt;</prompt><command>sudo</command><command>virsh edit s12-1</command></screen>
                        <para>and remove the following lines:</para>
                        <screen>  &lt;!-- Boot kernel - remove 3 lines after successfull installation --&gt;
  &lt;kernel&gt;/var/lib/libvirt/images/s12-kernel.boot&lt;/kernel&gt;
  &lt;initrd&gt;/var/lib/libvirt/images/s12-initrd.boot&lt;/initrd&gt;
  &lt;cmdline&gt;linuxrcstderr=/dev/console&lt;/cmdline&gt;</screen>
                     </step>
                     <step>
                        <para>Restart the VM Guest to IPL into the installed system:</para>
                        <screen><prompt>&gt;</prompt><command>sudo</command><command>virsh start s12-1 --console</command></screen>
                     </step>
                  </procedure>
                  <note>
                     <title>
                        <literal>cio_ignore</literal> is disabled for KVM installations</title>
                     <para>The kernel parameter <literal>cio_ignore</literal> prevents the kernel from looking at all the available hardware devices. However, for KVM guests, the hypervisor already takes care to only provide access to the correct devices. Therefore <literal>cio_ignore</literal> is disabled by default when installing a KVM guest (for z/VM and LPAR installations it is activated by default).</para>
                  </note>
               </listitem>
            </varlistentry>
         </variablelist>
      </sect2>
      <sect2 xml:id="sec-s390-inst-reipl-reconnect">
         <title>IBM Z: Connecting to the installed system</title>
         <para>After IPLing the system, establish a connection via VNC, SSH, or X to log in to the installed system. Using either VNC or SSH is recommended. To customize the system configuration or to install additional software packages, start YaST.</para>
         <sect3 xml:id="sec-s390-inst-reipl-reconnect-vnc">
            <title>Using VNC to connect</title>
            <para>A message in the 3270 terminal asks you to connect to the Linux system using a VNC client. However, this message is easily missed, because it is mixed with kernel messages and the terminal process might quit before you notice the message. If nothing happens for five minutes, try to initiate a connection to the Linux system using a VNC viewer.</para>
            <para>If you connect using a JavaScript-capable browser, enter the complete URL, consisting of the IP address of the installed system along with the port number, in the following fashion:</para>
            <screen>http://<replaceable>IP_OF_INSTALLED_SYSTEM</replaceable>:5801/</screen>
         </sect3>
         <sect3 xml:id="sec-s390-inst-reipl-reconnect-ssh">
            <title>Using SSH to connect</title>
            <para>A message in the 3270 terminal asks you to connect to the Linux system with an SSH client. This message is easily missed, however, because it is mixed with kernel messages and the terminal process might quit before you become aware of the message.</para>
            <para>When the message appears, use SSH to log in to the Linux system as <systemitem class="username">root</systemitem>. If the connection is denied or times out, wait for the login timeout to expire, then try again (this time depends on server settings).</para>
         </sect3>
         <sect3 xml:id="sec-s390-inst-reipl-reconnect-x">
            <title>Using X to connect</title>
            <para>When IPLing the installed system, make sure that the X server used for the first phase of the installation is up and still available before booting from the DASD. YaST opens on this X server to finish the installation. Complications may arise if the system is booted up but unable to connect to the X server in a timely fashion.</para>
         </sect3>
      </sect2>
   </sect1>
</chapter>
